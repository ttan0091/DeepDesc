Type of vulnerability: Precision Loss
Cause of vulnerability: Truncation of decimal places in liquidity share value calculations
Explanation of vulnerability: The sumTokensInPeg function calculates the value of deposited tokens using their balances and the pool's reserves, but it does not account for the decimals value of the tokens. This leads to precision loss, especially for tokens with fewer decimals, as their values are truncated due to division by a large number (10  18) without proper scaling.
Working process of the code: When tokens are deposited or withdrawn, the sumTokensInPeg function is called to calculate the current value of deposited tokens. This function divides the token balances by the pool's reserves, which are scaled by decimals, but the final calculation does not account for the decimals of the tokens, resulting in precision loss.