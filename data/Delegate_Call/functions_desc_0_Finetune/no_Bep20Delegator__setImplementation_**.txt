Type of issue: Crosschain delegation and transmission failure

Root cause: The delegate and implementation addresses are not always correctly encoded when attempting crosschain transmission, leading to transmission failure and disabling liquidity provision.

Explanation of the code: The provided code snippet is from the Venus Delegator contract, specifically the _setImplementation method. This method is crucial in the selfupgrade process of the contract, where the implementation address can be changed. If the allowResign flag is set, the current implementation is asked to resign, and the new implementation is set. When all of this is done, an event is emitted to indicate the change. The flaw in this design is that it uses implementation more than once for different purposes without proper distinction, leading to potential errors in addressing if not handled correctly.