Type of contract: Vault
Working process: The Vault monitors the performance of the strategies and rebalances funds when necessary. When a strategy has a higher valuepershare (VPS) compared to the base strategy, the Vault swaps tokens to the underperforming strategy to rebalance the VPS and maximize the yield for depositors.
Role of the PhoenixVault library: The PhoenixVault library provides functions for performance measurements and payout distribution used by the Vault contract. It calculates the value of assets held by a strategy, factors in the cost of possible swaps, and determines if withdrawing+depositing would provide better returns. Additionally, the library handles rates & fees, prorata payments, and Premium Shares (PRM).