Type of the script: Vulnerability Assessment and Secure Coding
Task: Explain the working process of a specific internal function in Yearn's V1 Strategist contract and identify any vulnerabilities that may arise from the implementation.
Cause of vulnerability: The harvestAndStrategy function sends LP tokens from the StrategyVault to Strategy, then separately updates the StrategyVault price per share (PPS) before updating the Strategyâ€™s PPS. This separation allows more LP tokens to be minted back to the Strategy than tokens were initially pulled, leading to minting profits without burning back LP tokens.