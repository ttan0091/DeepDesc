Type of contract: Single Sided Staking Rewards Pool with Dual Token Fee Distributor

Summary of operation: The contract is designed to distribute fees collected from trading on Uniswap and SushiSwap to CRV and ERC20 staking rewards pools. It does this by minting an equal value of BPT (Balancer Pool Tokens) in exchange for the incoming fees and staking them in a Balancer pool. Users can stake their CRV in the CRV rewards pool or their LP tokens in the PEG LP rewards pool to earn rewards from the fees.

Technical details: The rewardPerToken() function calculates the reward per token based on the current reward rate, duration, and boost multiplier. It takes into account the total staking supply and the current time for rate calculation. The actual token distribution and update occur when a user interacts with the contract, triggering the updateReward(address) function.