Type of contract: LenderXERC20Pool
Primary purpose: Liquidating undercollateralized lenders, returning principal and maturities to lenders or pool savings, and returning excess collateral to liquidators.
Basic mechanics: When lenders are undercollateralized, liquidators can call the liquidateForLender function, receiving the undercollateralized lender's collateral amount and liquidation share of the lender's principal. Liquidators can specify if they want to receive collateral in the form of collateral tokens, return it to the lender's savings, or as liquidity shares from pool savings, based on a specified lender and liquidation data.
Key components: The function _liquidateForLender calculates the amount of uncollateralized assets from the lender using the lender's art ratios, allowing liquidators to claim part of the lender's principal. Liquidators are also entitled to receive a premium from liquidations.