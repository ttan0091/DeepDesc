Type of vulnerability: Reentrancy Attack
Cause of vulnerability: Improper accounting of ethToPay leading to incorrect subtractions and not adjusting the counter totalEthCharityRecieved in case of charity failure.
Working process of the vulnerability: The contract attempts to pay a charity address by subtracting totalEthCharityRecieved from totalEthCharityCollected. If the payment fails, totalEthCharityRecieved is incorrectly decremented again, leading to an inflated value that can be exploited.