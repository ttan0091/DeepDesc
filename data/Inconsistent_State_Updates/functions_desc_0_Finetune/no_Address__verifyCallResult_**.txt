Type of code: Ethereum Solidity Smart Contract
Purpose: To retrieve the revert message from an external call if it reverts, and return it in conjunction with the transaction revert message.
Working process: The function _verifyCallResult is used to analyze the return data of a call to determine if the call was successful or not. If the call was not successful (i.e., it reverted), the revert reason from the call is extracted and combined with the initial revert message to provide more detailed information about the failure to the end user.
Detailed explanation: When a transaction makes an external call to another contract or an external data source (including a view call), the return data from the call is analyzed. If the call was successful, the original return data is used. However, if the call reverted, the function _verifyCallResult decodes the return data to extract the revert reason. This revert reason is then passed back to the caller along with the original transaction revert message, providing more context and detailed information about the precise cause of the failure.