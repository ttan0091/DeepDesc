Type of code: Smart Contract method
Working process: The balanceOfAt method calculates the token balance of an account at a specific snapshot ID by first checking if a snapshot exists at that ID for the account. If a snapshot exists, it returns the snapshot value; otherwise, it retrieves the current balance of the account.