Type of contract: StrategyFees
Purpose of the contract: The contract manages fees accrued within strategies and facilitates the charging and withdrawal of fees.
Working process: The payFees function calculates the fees accrued in paired tokens and converts them to PEG using the strategyâ€™s pool. If the fees exceed the threshold, the fees autocompounder pool is refilled. The fillAutoCompound function calculates how many pairs can be added to the fees pool without exceeding the total amount charged, then swaps pairs for PEG and transfers LP positions to the fees pool. The deposit function mints shares at an equity of the pool, which expands the pools' positions.