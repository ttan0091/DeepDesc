Type of contract: WeightedPool.sol
Role of the contract: A simple implementation of automated market maker (AMM) with equalweighted or 5050 pools.
Working process: Users can add liquidity to create a new pool or add tokens to an existing pool. Each pool maintains its information such as balances of each token and virtual balances, which are used to track the imbalance of the pool. Swapping and removal of liquidity are also facilitated through this contract.
Primary functions involved: addLiquidity, getTokenBalance, getTokenWeight, swapExactInOut, removeLiquidity, getInputPrice, v1TokensToV2Tokens, getFeePerToken,_stakedWithdrawsetupPercent, and _getIdealWeights