Type of vulnerability: Insufficient Liquidity for Liquidation
Cause of vulnerability: The contract does not ensure there is enough underlying supply tokens to pay out during liquidation, only maintaining a minimum reserve.
Execution process: When a user's collateral drops in value and they need to be liquidated, the contract attempts to transfer the required amount of underlying tokens to the liquidator. However, if all tokens are lent out and only the minimum reserve is left, the transfer fails, preventing the liquidation.
Vulnerable code: `_safeTransfer(IERC20(supplyToken), msg.sender, supplyOutput)`