Type of vulnerability: Incorrect Weight Calculation
Cause of vulnerability: The `exitPosition()` function uses the current `pool.AverageMagnitude` instead of the respective magnitudes of the userâ€™s weights to update `pool.cumulative`.
Execution process: When a user calls `exitPosition()`, the `pool.cumulative` is updated using the current `pool.AverageMagnitude`, which may not accurately reflect the user's actual weight, leading to an incorrect update of the cumulative weight.
Vulnerable code: The issue occurs in the `exitPosition()` function where `pool.cumulative` is updated using `pool.AverageMagnitude` instead of the user's actual weight.