Type of vulnerability: Loss of precision
Cause of vulnerability: Division of two large numbers with high decimal precision can result in a value that is too small, leading to incorrect calculations.
Execution process: The price ratio is calculated by dividing price0 by price1, both of which are normalized to 18 decimal points. This division can result in a value of 0 or a single digit, which is insufficient for accurate calculations of fair reserves.
Vulnerable code: https://github.com/Canto-Network/lending-updates/blob/8f1e624a74ea67e63400209dded2bb716d92e472/src/Swap/BaseV1-periphery.sol#L573