Type of vulnerability: Incorrect Calculation of Token Balances
Cause of vulnerability: The calculation of excess deposit tokens does not account for the flashloan fee amount, allowing the stream creator to retrieve the fee amount.
Execution process: The stream creator calls `recoverTokens(depositToken, recipient)` to retrieve the flashloan fee amount, which depletes the token balance, causing subsequent operations like fee claiming or user withdrawals to fail due to insufficient funds.
Vulnerable code: `uint256 excess = ERC20(token).balanceOf(address(this)) - (depositTokenAmount - redeemedDepositTokens);`